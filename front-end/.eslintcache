[{"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\index.js":"1","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\App.js":"2","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\reportWebVitals.js":"3","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\Routes.js":"4","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Home.js":"5","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\config.js":"6","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Login.js":"7","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\NotFound.js":"8","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\contextLib.js":"9","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\LoaderButton.js":"10","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\errorLib.js":"11","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\hooksLib.js":"12","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Signup.js":"13","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\ProductDetails.js":"14","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\AuthenticatedRoute.js":"15","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\UnauthenticatedRoute.js":"16","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Cart.js":"17","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Purchases.js":"18"},{"size":1236,"mtime":1610405810257,"results":"19","hashOfConfig":"20"},{"size":2839,"mtime":1610747029757,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"20"},{"size":1293,"mtime":1610730165472,"results":"23","hashOfConfig":"20"},{"size":3121,"mtime":1610750405102,"results":"24","hashOfConfig":"20"},{"size":480,"mtime":1609885540671,"results":"25","hashOfConfig":"20"},{"size":1799,"mtime":1610475446844,"results":"26","hashOfConfig":"20"},{"size":210,"mtime":1609880983171,"results":"27","hashOfConfig":"20"},{"size":170,"mtime":1609886751181,"results":"28","hashOfConfig":"20"},{"size":513,"mtime":1609898083938,"results":"29","hashOfConfig":"20"},{"size":221,"mtime":1609898253698,"results":"30","hashOfConfig":"20"},{"size":302,"mtime":1609898858032,"results":"31","hashOfConfig":"20"},{"size":3929,"mtime":1610762800540,"results":"32","hashOfConfig":"20"},{"size":6298,"mtime":1610750457167,"results":"33","hashOfConfig":"20"},{"size":528,"mtime":1610417156896,"results":"34","hashOfConfig":"20"},{"size":891,"mtime":1610417709761,"results":"35","hashOfConfig":"20"},{"size":4223,"mtime":1610763674786,"results":"36","hashOfConfig":"20"},{"size":2243,"mtime":1610730402562,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1i2eo5",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"40"},"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\index.js",[],["79","80"],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\App.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\reportWebVitals.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\Routes.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Home.js",["81","82"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport \"./Home.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nexport default function Home() {\r\n  const [minions, setMinions] = useState([]);\r\n  const { isAuthenticated } = useAppContext();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function onLoad() {\r\n      try {\r\n        const minions = await loadMinions();\r\n        console.log(minions);\r\n        setMinions(minions);\r\n      } catch (e) {\r\n        onError(e);\r\n      }\r\n  \r\n      setIsLoading(false);\r\n    }\r\n  \r\n    onLoad();\r\n  }, []);\r\n  \r\n  function loadMinions() {\r\n    return API.get(\"minions-market\", \"/minions\");\r\n  }\r\n\r\n  function renderProducts() {\r\n    return (\r\n      <div id=\"products\">\r\n              \r\n      {minions.map(({productId, productName,unitPrice, photos}) => (\r\n        <div class=\"card\">\r\n          <img class=\"product_img\" src={photos} alt={photos}/>\r\n          <div class=\"card-container\">\r\n            <h4><b>{productName}</b></h4>\r\n            <p>R$ {unitPrice}</p>\r\n              <LinkContainer to={`/minions/${productId}`}>\r\n                <button\r\n                  className = \"button-details\">\r\n                    <p>Ver detalhes</p>\r\n                </button>\r\n              </LinkContainer> \r\n          </div>\r\n        </div>\r\n      ))}\r\n        </div>\r\n    );\r\n  }\r\n\r\n  function renderNoProductsAvailableWarning() {\r\n    return (\r\n      <div id=\"products\">\r\n        <p>Nenhum produto disponível</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <section id=\"start-section\">\r\n            <div class=\"spirals\">\r\n              <img src=\"spiral.png\" alt=\"Spiral\" height = \"35vh\" width = \"35vw\"/>\r\n              <img src=\"spiral.png\" alt=\"Spiral\" height = \"35vh\" width = \"35vw\"/>\r\n            </div>\r\n            <div class=\"start-img-tile\">\r\n              <img id=\"minion-face\" src=\"minion-face.png\" alt=\"minion-face\"></img>\r\n              <div className=\"lander\">\r\n                <h1>Minions' Market</h1>\r\n              </div>\r\n            </div>\r\n            <div class=\"spirals\">\r\n              <img src=\"spiral.png\" alt=\"Spiral\" height = \"35vh\" width = \"35vw\"/>\r\n              <img src=\"spiral.png\" alt=\"Spiral\" height = \"35vh\" width = \"35vw\"/>\r\n            </div>\r\n          </section>\r\n          <section id=\"content\">\r\n            <div id=\"intro\">\r\n              <div id=\"intro-text\">\r\n                <p>O Minions’ Market busca oferecer as melhores miniaturas de minions por preços justos.</p>\r\n                <p>Reserve a sua! Veja os detalhes de cada produto e confirme sua compra, ou adicione-os ao seu carrinho</p>\r\n              </div>\r\n              <img src=\"three_minions_looking_up.png\" alt=\"minions looking up\"/>\r\n            </div>\r\n            {minions.length > 0? renderProducts(): renderNoProductsAvailableWarning()}\r\n          </section>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n  //{isAuthenticated ? renderProducts() : renderLander()}","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\config.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Login.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\NotFound.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\contextLib.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\LoaderButton.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\errorLib.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\libs\\hooksLib.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Signup.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\ProductDetails.js",["83","84","85","86","87","88","89"],"import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { API, Storage } from \"aws-amplify\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport LoaderButton from \"../components/LoaderButton\";\r\nimport './ProductDetails.css'\r\nimport 'path';\r\nimport {useFormFields} from '../libs/hooksLib';\r\nimport {Auth} from 'aws-amplify';\r\n\r\nexport default function ProductDetails() {\r\n  const file = useRef(null);\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [product, setProduct] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    email:\"\",\r\n    cardholder:\"\",\r\n    cardNumber: \"\",\r\n    address:\"\"\r\n  });\r\n  const [showForm,setShowForm] = useState(false);\r\n  const formButtons = React.createRef(); \r\n  \r\n  useEffect(() => {\r\n    function loadProduct() {\r\n      return API.get(\"minions-market\", `/minions/${id}`);\r\n    }\r\n\r\n    async function onLoad() {\r\n      try {\r\n        const user = await Auth.currentAuthenticatedUser();\r\n        const product = await loadProduct();\r\n        setProduct(product);\r\n        fields.email = user.attributes.email;\r\n      } catch (e) {\r\n        onError(e);\r\n      }\r\n    }\r\n\r\n    onLoad();\r\n  }, [id]);\r\n\r\n  async function addToCart(){\r\n    try{\r\n      setIsLoading(true);\r\n      const isAlreadyAdded = (await API.get(\"minions-market\",`/cart-purchases/${product.productId}`))? true:false;\r\n      if(isAlreadyAdded){\r\n        alert('Esse produto já está no carrinho.');\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      const productAddedToCart = await API.post('minions-market','/cart-purchases', {\r\n        body: product\r\n      });\r\n      console.log(productAddedToCart);\r\n    }catch(e){\r\n      onError(e);\r\n    }\r\n    alert('Produto adicionado ao carrinho.');\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function buyProduct() {\r\n    const prod = await API.get(\"minions-market\",`/cart-purchases/${id}`);\r\n    if(prod){\r\n      await API.put(\"minions-market\",`/cart-purchases/${id}`,{\r\n        body: {\r\n          ...fields,\r\n          productStatus: \"bought\"\r\n        }\r\n      });\r\n    }else{\r\n      console.log(fields);\r\n      const log = await API.post(\"minions-market\",\"/cart-purchases\",{\r\n        body:{\r\n          ...product,\r\n          ...fields,\r\n          productStatus: \"bought\"\r\n        }\r\n      });\r\n      console.log(log);\r\n    }\r\n    \r\n    return API.del(\"minions-market\", `/minions/${id}`);\r\n  }\r\n\r\n  function renderForm(){\r\n    \r\n    if(showForm) {\r\n      return (\r\n        <>  \r\n            <p>Para finalizar sua compra, preencha os dados de pagamento abaixo. Você precisará de um cartão de crédito ou débito</p>\r\n            <div class = \"div-form\">\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group size=\"lg\" controlId=\"address\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={fields.address}\r\n                  onChange={handleFieldChange}\r\n                  placeholder=\"Endereço para entrega.\"\r\n                />\r\n              </Form.Group>\r\n              <Form.Group size=\"lg\" controlId=\"cardholder\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={fields.cardholder}\r\n                  onChange={handleFieldChange}\r\n                  placeholder=\"Nome no Cartão\"\r\n                />\r\n              </Form.Group>\r\n              <Form.Group size=\"lg\" controlId=\"cardNumber\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={fields.cardnumber}\r\n                  onChange={handleFieldChange}\r\n                  placeholder=\"Número no Cartão\"\r\n                />\r\n              </Form.Group>\r\n              <LoaderButton type=\"submit\" size=\"lg\" disabled = {isLoading} isLoading={isLoading}>\r\n                Confirmar\r\n              </LoaderButton>\r\n            </Form>\r\n            </div>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    const confirmed = window.confirm(\r\n      \"Tem certeza que deseja fazer esta reserva?\"\r\n    );\r\n  \r\n    if (!confirmed) {\r\n      return;\r\n    }\r\n  \r\n    setIsLoading(true);\r\n\r\n    try{\r\n      const executed = await buyProduct();\r\n      alert(\"Produto reservado!\");\r\n      history.push(\"/\");\r\n    }catch(e){\r\n      onError(e);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"ProductDetails\">\r\n      {product && (\r\n        <section class=\"content\"> \r\n          <div class = \"prod-details-start\">\r\n            <div class=\"card\">\r\n              <img src= {`../${product.photos}`}  alt={product.photos}/>\r\n              <div class=\"card-container\">\r\n                <h4><b>{product.productName}</b></h4>\r\n                <p>R$ {product.unitPrice}</p>         \r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div  class = \"product-description\">\r\n            <p class = \"label\">Descrição do produto</p>\r\n            <Form.Group controlId=\"content\">\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              value={product.description}\r\n            />\r\n          </Form.Group>\r\n          </div>  \r\n          {renderForm()}\r\n          <div class=\"details-page-buttons\">\r\n            <LoaderButton\r\n              block\r\n              size=\"lg\"\r\n              type=\"submit\"\r\n              disabled = {isLoading}\r\n              isLoading={isLoading}\r\n              onClick={addToCart}\r\n              className=\"button-add-to-cart\"\r\n            >Adicionar ao carrinho</LoaderButton>\r\n            {\r\n              showForm?\r\n              <LoaderButton size=\"lg\" type=\"submit\" disabled = {isLoading} isLoading={isLoading} onClick={() => setShowForm(false)}>\r\n                Cancelar\r\n              </LoaderButton>\r\n              :\r\n              <LoaderButton size=\"lg\" type=\"submit\" disabled = {isLoading} isLoading={isLoading} onClick={() => {\r\n                setShowForm(true);\r\n              }}\r\n              >Finalizar compra</LoaderButton>\r\n            }\r\n            \r\n          </div>\r\n        </section>\r\n      )}\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\n","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\AuthenticatedRoute.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\components\\UnauthenticatedRoute.js",[],"E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Cart.js",["90","91","92","93","94","95","96"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport \"./Cart.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { LinkContainer} from \"react-router-bootstrap\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport LoaderButton from '../components/LoaderButton';\r\nimport {Auth} from 'aws-amplify';\r\n\r\nexport default function Cart() {\r\n    const [minions,setMinions] = useState([]);\r\n    const [isLoading,setIsLoading] = useState(true);\r\n    function loadMinions() {\r\n        return API.get('minions-market','/cart-purchases');\r\n    }\r\n    const [total,setTotal] = useState(0);\r\n    const [isGettingExpenditures,setIsGettingExpenditures] = useState(false);\r\n    async function load() {\r\n        try {\r\n            const list = await loadMinions();\r\n            const productsOnCart = list.filter((minion) => {\r\n                return minion.productStatus != \"bought\"\r\n              } );\r\n              console.log(list);\r\n            setMinions(productsOnCart);\r\n        }catch(e){\r\n            onError(e);\r\n        }\r\n    }\r\n\r\n    function getExpenditures() {\r\n        setIsGettingExpenditures(true);\r\n        let totals = 0;\r\n        minions.forEach((minionProduct)=> {\r\n            totals+= totals + minionProduct.unitPrice;\r\n            console.log(totals);\r\n        });\r\n        setTotal(totals);\r\n        setIsGettingExpenditures(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        load();\r\n        setIsLoading(false);\r\n    },[]);\r\n\r\n    async function removeFromCart(id) {\r\n        setIsLoading(true);\r\n        await API.del(\"minions-market\",`/cart-purchases/${id}`);\r\n        load();\r\n        setIsLoading(false);\r\n        getExpenditures();\r\n    }\r\n    \r\n    async function purchaseCartItems() {\r\n        try{\r\n            setIsLoading(true);\r\n            const user = await Auth.currentAuthenticatedUser();\r\n            const purchasedItems = await API.put(\"minions-market\", \"/cart-purchases/many\", {\r\n                body:{minions,\r\n                email:user.attributes.email}\r\n            })\r\n            console.log(purchasedItems);\r\n            minions.forEach(async (minion) => {\r\n                await API.del(\"minions-market\",`/minions/${minion.productId}`);\r\n            });\r\n            load();\r\n            alert('Compra realizada, você receberá um e-mail de notificação desta compra.')\r\n        }catch(e){\r\n            onError(e);\r\n        }\r\n        setIsLoading(false);\r\n    }\r\n    return (\r\n        <div className='Cart'>\r\n            {!isLoading && (\r\n                <section class='cart-content'>\r\n                <div class = \"cart-list\">\r\n                    {minions.map( ({productId, productName, description, amount, unitPrice, photos}) => (\r\n                        <ListGroup.Item className=\"cart-element\">\r\n                        <div className=\"cart-image\">\r\n                            <img src = {`../${photos}`} alt =\"image\"/>\r\n                        </div>\r\n                            <div class=\"title-description\">\r\n                                <p class=\"title\">{productName}</p>\r\n                                <p class=\"description\">{description}</p>\r\n                            </div>\r\n                            <div class = 'price'>\r\n                                <p>R${unitPrice}</p>\r\n                            </div>\r\n                            <div className=\"card-button\">\r\n                            <LoaderButton key = {productId} className=\"remove-from-cart\" onClick={() => removeFromCart(productId)}>\r\n                                Remover do carrinho\r\n                            </LoaderButton>\r\n                            </div>\r\n                        </ListGroup.Item>\r\n                    ))}\r\n                </div>\r\n                    {\r\n                        minions.length > 0 && (\r\n                        \r\n                        <LoaderButton onClick={purchaseCartItems} disabled = {isLoading} isLoading ={isLoading}>\r\n                            Confirmar compra\r\n                        </LoaderButton>\r\n                        )\r\n                    }\r\n           </section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","E:\\RafaelVI\\Trabalho no geral\\Wisely Med\\minions-market\\front-end\\src\\containers\\Purchases.js",["97","98","99","100","101","102"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAppContext } from \"../libs/contextLib\";\r\nimport { onError } from \"../libs/errorLib\";\r\nimport \"./Purchases.css\";\r\nimport { API } from \"aws-amplify\";\r\nimport { LinkContainer} from \"react-router-bootstrap\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\n\r\nexport default function Cart() {\r\n    const [minions,setMinions] = useState([]);\r\n    const [isLoading,setIsLoading] = useState(true);\r\n    function loadMinions() {\r\n        return API.get('minions-market','/cart-purchases');\r\n    }\r\n    \r\n    async function load() {\r\n        try {\r\n            const list = await loadMinions();\r\n            const purchases = list.filter((minion) => {\r\n                return minion.productStatus == \"bought\"\r\n              } );\r\n            setMinions(purchases);\r\n            console.log(purchases);\r\n        }catch(e){\r\n            onError(e);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        load();\r\n        setIsLoading(false);\r\n    },[]);\r\n\r\n    async function removeFromCart(id) {\r\n        setIsLoading(true);\r\n        await API.del(\"minions-market\",`/cart-purchases/${id}`);\r\n        load();\r\n        setIsLoading(false);\r\n    }\r\n    \r\n    return (\r\n        <div className='Cart'>\r\n            {!isLoading && (\r\n                <section class='cart-content'>\r\n                <div class = \"cart-list\">\r\n                    {minions.map( ({productId, productName, description, amount, unitPrice, photos}) => (\r\n                        <ListGroup.Item className=\"cart-element\">\r\n                        <div className=\"cart-image\">\r\n                            <img src = {`../${photos}`} alt =\"image\"/>\r\n                        </div>\r\n                            <div class=\"title-description\">\r\n                                <p class=\"title\">{productName}</p>\r\n                                <p class=\"description\">{description}</p>\r\n                            </div>\r\n                            <div class = 'price'>\r\n                                <p>R${unitPrice}</p>\r\n                            </div>\r\n                        </ListGroup.Item>\r\n                    ))}\r\n                </div>\r\n           </section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n",{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":10,"column":11,"nodeType":"109","messageId":"110","endLine":10,"endColumn":26},{"ruleId":"107","severity":1,"message":"111","line":11,"column":10,"nodeType":"109","messageId":"110","endLine":11,"endColumn":19},{"ruleId":"107","severity":1,"message":"112","line":3,"column":15,"nodeType":"109","messageId":"110","endLine":3,"endColumn":22},{"ruleId":"107","severity":1,"message":"113","line":13,"column":9,"nodeType":"109","messageId":"110","endLine":13,"endColumn":13},{"ruleId":"107","severity":1,"message":"114","line":18,"column":10,"nodeType":"109","messageId":"110","endLine":18,"endColumn":20},{"ruleId":"107","severity":1,"message":"115","line":18,"column":22,"nodeType":"109","messageId":"110","endLine":18,"endColumn":35},{"ruleId":"107","severity":1,"message":"116","line":26,"column":9,"nodeType":"109","messageId":"110","endLine":26,"endColumn":20},{"ruleId":"117","severity":1,"message":"118","line":45,"column":6,"nodeType":"119","endLine":45,"endColumn":10,"suggestions":"120"},{"ruleId":"107","severity":1,"message":"121","line":147,"column":13,"nodeType":"109","messageId":"110","endLine":147,"endColumn":21},{"ruleId":"107","severity":1,"message":"122","line":2,"column":10,"nodeType":"109","messageId":"110","endLine":2,"endColumn":23},{"ruleId":"107","severity":1,"message":"123","line":6,"column":10,"nodeType":"109","messageId":"110","endLine":6,"endColumn":23},{"ruleId":"107","severity":1,"message":"124","line":17,"column":12,"nodeType":"109","messageId":"110","endLine":17,"endColumn":17},{"ruleId":"107","severity":1,"message":"125","line":18,"column":12,"nodeType":"109","messageId":"110","endLine":18,"endColumn":33},{"ruleId":"126","severity":1,"message":"127","line":23,"column":45,"nodeType":"128","messageId":"129","endLine":23,"endColumn":47},{"ruleId":"117","severity":1,"message":"130","line":46,"column":7,"nodeType":"119","endLine":46,"endColumn":9,"suggestions":"131"},{"ruleId":"132","severity":1,"message":"133","line":83,"column":29,"nodeType":"134","endLine":83,"endColumn":71},{"ruleId":"107","severity":1,"message":"122","line":2,"column":10,"nodeType":"109","messageId":"110","endLine":2,"endColumn":23},{"ruleId":"107","severity":1,"message":"123","line":6,"column":10,"nodeType":"109","messageId":"110","endLine":6,"endColumn":23},{"ruleId":"126","severity":1,"message":"135","line":20,"column":45,"nodeType":"128","messageId":"129","endLine":20,"endColumn":47},{"ruleId":"117","severity":1,"message":"130","line":32,"column":7,"nodeType":"119","endLine":32,"endColumn":9,"suggestions":"136"},{"ruleId":"107","severity":1,"message":"137","line":34,"column":20,"nodeType":"109","messageId":"110","endLine":34,"endColumn":34},{"ruleId":"132","severity":1,"message":"133","line":49,"column":29,"nodeType":"134","endLine":49,"endColumn":71},"no-native-reassign",["138"],"no-negated-in-lhs",["139"],"no-unused-vars","'isAuthenticated' is assigned a value but never used.","Identifier","unusedVar","'isLoading' is assigned a value but never used.","'Storage' is defined but never used.","'file' is assigned a value but never used.","'isDeleting' is assigned a value but never used.","'setIsDeleting' is assigned a value but never used.","'formButtons' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fields'. Either include it or remove the dependency array.","ArrayExpression",["140"],"'executed' is assigned a value but never used.","'useAppContext' is defined but never used.","'LinkContainer' is defined but never used.","'total' is assigned a value but never used.","'isGettingExpenditures' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","React Hook useEffect has a missing dependency: 'load'. Either include it or remove the dependency array.",["141"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","Expected '===' and instead saw '=='.",["142"],"'removeFromCart' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"143","fix":"144"},{"desc":"145","fix":"146"},{"desc":"145","fix":"147"},"Update the dependencies array to be: [fields, id]",{"range":"148","text":"149"},"Update the dependencies array to be: [load]",{"range":"150","text":"151"},{"range":"152","text":"151"},[1397,1401],"[fields, id]",[1538,1540],"[load]",[1003,1005]]